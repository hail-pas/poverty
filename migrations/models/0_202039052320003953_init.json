{
  "upgrade": "CREATE TABLE IF NOT EXISTS `admin` (\n    `id` INT NOT NULL PRIMARY KEY AUTO_INCREMENT,\n    `created_at` DATETIME(6) NOT NULL  COMMENT '创建时间' DEFAULT CURRENT_TIMESTAMP(6),\n    `updated_at` DATETIME(6) NOT NULL  COMMENT '更新时间' DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),\n    `username` VARCHAR(20) NOT NULL UNIQUE,\n    `password` VARCHAR(200) NOT NULL,\n    `mobile` VARCHAR(200) NOT NULL  DEFAULT '',\n    `avatar` VARCHAR(200) NOT NULL  DEFAULT '',\n    `last_login` DATETIME(6) NOT NULL  COMMENT '上次登录',\n    `is_active` BOOL NOT NULL  COMMENT '是否激活' DEFAULT 1,\n    `is_superuser` BOOL NOT NULL  COMMENT '超级管理员' DEFAULT 0\n) CHARACTER SET utf8mb4;\nCREATE TABLE IF NOT EXISTS `app` (\n    `id` INT NOT NULL PRIMARY KEY AUTO_INCREMENT,\n    `created_at` DATETIME(6) NOT NULL  COMMENT '创建时间' DEFAULT CURRENT_TIMESTAMP(6),\n    `updated_at` DATETIME(6) NOT NULL  COMMENT '更新时间' DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),\n    `aid` INT NOT NULL UNIQUE,\n    `label` VARCHAR(20) NOT NULL,\n    `pay_key` VARCHAR(50) NOT NULL  COMMENT 'pay key',\n    `announcement` LONGTEXT NOT NULL,\n    `service` LONGTEXT NOT NULL\n) CHARACTER SET utf8mb4;\nCREATE TABLE IF NOT EXISTS `config` (\n    `id` INT NOT NULL PRIMARY KEY AUTO_INCREMENT,\n    `created_at` DATETIME(6) NOT NULL  COMMENT '创建时间' DEFAULT CURRENT_TIMESTAMP(6),\n    `updated_at` DATETIME(6) NOT NULL  COMMENT '更新时间' DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),\n    `label` VARCHAR(200) NOT NULL  COMMENT '标签',\n    `key` VARCHAR(20) NOT NULL  COMMENT 'key',\n    `value` TEXT NOT NULL  COMMENT 'value',\n    `status` SMALLINT NOT NULL  COMMENT 'on: 1\\noff: 2' DEFAULT 1\n) CHARACTER SET utf8mb4;\nCREATE TABLE IF NOT EXISTS `role` (\n    `id` INT NOT NULL PRIMARY KEY AUTO_INCREMENT,\n    `created_at` DATETIME(6) NOT NULL  COMMENT '创建时间' DEFAULT CURRENT_TIMESTAMP(6),\n    `updated_at` DATETIME(6) NOT NULL  COMMENT '更新时间' DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),\n    `label` VARCHAR(50) NOT NULL\n) CHARACTER SET utf8mb4;\nCREATE TABLE IF NOT EXISTS `user` (\n    `id` INT NOT NULL PRIMARY KEY AUTO_INCREMENT,\n    `created_at` DATETIME(6) NOT NULL  COMMENT '创建时间' DEFAULT CURRENT_TIMESTAMP(6),\n    `updated_at` DATETIME(6) NOT NULL  COMMENT '更新时间' DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),\n    `token` VARCHAR(20) NOT NULL UNIQUE COMMENT '认证token',\n    `password` VARCHAR(200) NOT NULL,\n    `name` VARCHAR(50) NOT NULL  COMMENT '姓名',\n    `phone` VARCHAR(20) NOT NULL  COMMENT '电话号码',\n    `email` VARCHAR(50) NOT NULL  COMMENT '邮箱地址',\n    `balance` DECIMAL(10,4) NOT NULL  COMMENT '账户余额' DEFAULT 0\n) CHARACTER SET utf8mb4;\nCREATE TABLE IF NOT EXISTS `aerich` (\n    `id` INT NOT NULL PRIMARY KEY AUTO_INCREMENT,\n    `version` VARCHAR(50) NOT NULL,\n    `app` VARCHAR(20) NOT NULL\n) CHARACTER SET utf8mb4;\nCREATE TABLE IF NOT EXISTS `role_admin` (\n    `role_id` INT NOT NULL,\n    `admin_id` INT NOT NULL,\n    FOREIGN KEY (`role_id`) REFERENCES `role` (`id`) ON DELETE CASCADE,\n    FOREIGN KEY (`admin_id`) REFERENCES `admin` (`id`) ON DELETE CASCADE\n) CHARACTER SET utf8mb4;\nCREATE TABLE IF NOT EXISTS `user_app` (\n    `user_id` INT NOT NULL,\n    `app_id` INT NOT NULL,\n    FOREIGN KEY (`user_id`) REFERENCES `user` (`id`) ON DELETE CASCADE,\n    FOREIGN KEY (`app_id`) REFERENCES `app` (`id`) ON DELETE CASCADE\n) CHARACTER SET utf8mb4;"
}